#!/usr/local/bin/python
import sys

try:
	import jinja2
except Exception, e:
	print "Jinja2 tempating library required: http://jinja.pocoo.org/docs/"
	raise e

src_fname = "To-Done.Jinja2-YAML-tmLanguage"
dest_fname = "To-Done.YAML-tmLanguage"
heading = """# This file should not be edited directly.
# It has been generated from `{0}` via the python script `compile-tmpl`
""".format(src_fname)

with open(src_fname, "r") as f:
    tmpl_str = f.read()

env = jinja2.Environment()
tmpl = env.from_string(tmpl_str)

with open(dest_fname, "w") as f:
	f.write(heading)
	f.write(tmpl.render())
